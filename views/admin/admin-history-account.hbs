<body>
  <div class="container-fluid">
    <div class="main">
      <aside class="row-cols-1 m-0 p-0">
        <form id="account-list" action="admin-list-account">
        </form>
        <form id="destination-list" action="admin-list-destination">
        </form>
        <button id="account-list" class="btn function-btn" form="account-list"><b>Tài khoản</b></button>
        <button id="destination-list" class="btn function-btn" form="destination-list"><b>Địa điểm</b></button>
      </aside>
      <div id="content">
        <div class="search-bar">
          <form class="search-form w-50 my-2 mx-2 ps-4 rounded-3 ">
            <input class="form-control border-0" type="search" placeholder="Nhập thông tin muốn tìm kiếm"
              aria-label="Search" autocomplete>
            <button class="btn" type="submit" class="float-end"><i class="fa-solid fa-magnifying-glass"></i></button>
          </form>
        </div>
        <a href="admin-list-account">
          <img class="back-icon m-3" src="../images/back-icon.png" alt="">
        </a>
        <h2 class="mx-3">Lịch sử hoạt động</h2>
        <table class="mx-3 table table-striped table-hover ">
          <thead>
            <tr>
              <th scope="col">STT</th>
              <th scope="col">Thời gian</th>
              <th scope="col">Thao tác</th>
            </tr>
          </thead>
          <tbody>
            {{#each act_his_list}}
            <tr>
              <th scope="row">{{this}}</th>
              <td>{{time}}</td>
              <td>{{id_act}}</td>
            </tr>
            {{/each}}

          </tbody>
        </table>


        <div id="list-of-resuls">
          <nav>
             <button id="page-previous" onclick="previousList()"><b>Trước</b></button>
          ...
          <button id="page-next" onClick="nextList()"><b>Tiếp</b></button>

          </nav>
        </div>
      </div>
    </div>
  </div>
  <script src="https://kit.fontawesome.com/1de341d6e9.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
   <script>
    function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, '\\$&');
      var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }
    function updateURLParameter(url, param, paramVal) {
      var newAdditionalURL = "";
      var tempArray = url.split("?");
      var baseURL = tempArray[0];
      var additionalURL = tempArray[1];
      var temp = "";
      if (additionalURL) {
        tempArray = additionalURL.split("&");
        for (var i = 0; i < tempArray.length; i++) {
          if (tempArray[i].split('=')[0] != param) {
            newAdditionalURL += temp + tempArray[i];
            temp = "&";
          }
        }
      }
      var rows_txt = temp + "" + param + "=" + paramVal;
      return baseURL + "?" + newAdditionalURL + rows_txt;
    }

    function previousList() {
      var page_prev_index = parseInt(getParameterByName('page-index'), 10) - 1;
      if (page_prev_index != null) {
        if (page_prev_index >= 1) {
          var newURL = updateURLParameter(window.location.href, 'page-index', page_prev_index);
          location.replace(newURL);
        }
      }
      else {
        console.log("page-index is null");
      }

    }
    function nextList() {
      var page_next_index = parseInt(getParameterByName('page-index'), 10) + 1;
      if (page_next_index != null) {
        var newURL = updateURLParameter(window.location.href, 'page-index', page_next_index);
        location.replace(newURL);
      }
      else {
        console.log("page-index is null");
      }
    }
  </script>
</body>

